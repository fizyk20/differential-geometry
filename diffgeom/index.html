<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `diffgeom` crate.">
    <meta name="keywords" content="rust, rustlang, rust-lang, diffgeom">

    <title>diffgeom - Rust</title>

    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'></p><script>window.sidebarCurrent = {name: 'diffgeom', ty: 'mod', relpath: '../'};</script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content mod">
<h1 class='fqn'><span class='in-band'>Crate <a class='mod' href=''>diffgeom</a></span><span class='out-of-band'><span id='render-detail'>
            <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                [<span class='inner'>&#x2212;</span>]
            </a>
        </span><a id='src-0' class='srclink' href='../src/diffgeom/lib.rs.html#1-76' title='goto source code'>[src]</a></span></h1>
<div class='docblock'><p><strong>diffgeom</strong> is a crate aiming to leverage the Rust type system to provide
a type-safe API for tensor calculus on arbitrary manifolds.</p>

<h1 id='what-is-tensor-calculus' class='section-header'><a href='#what-is-tensor-calculus'>What is tensor calculus?</a></h1>
<p>Tensors are, in a way, a generalized idea similar to vectors and matrices. They are
multidimensional arrays of numbers, but not all such arrays are tensors. What makes
them tensors is how they behave in coordinate transformations. The details are a
topic for a whole academic lecture, so I won&#39;t go into them. What&#39;s important
is that tensors can be used for describing properties of curved spaces and it is
the intended use case of this crate.</p>

<h1 id='problems' class='section-header'><a href='#problems'>Problems</a></h1>
<p>Unfortunately, Rust currently doesn&#39;t support generics over static values, so
another representation of type-level numbers is required. In this crate one
provided by <a href="https://github.com/paholg/typenum">typenum</a> is being used. This
makes it necessary to use a lot of trait bounds, which break the compiler in
a few ways, so some operations require the usage of a pretty cumbersome syntax.</p>

<h1 id='example' class='section-header'><a href='#example'>Example</a></h1>
<p>Below you can see a code sample presenting some simple operations.</p>
<pre class='rust rust-example-rendered'>
<span class='kw'>use</span> <span class='ident'>std</span>::<span class='ident'>ops</span>::<span class='ident'>Mul</span>;
<span class='kw'>use</span> <span class='ident'>generic_array</span>::{<span class='ident'>GenericArray</span>, <span class='ident'>ArrayLength</span>};
<span class='kw'>use</span> <span class='ident'>diffgeom</span>::<span class='ident'>coordinates</span>::{<span class='ident'>CoordinateSystem</span>, <span class='ident'>Point</span>};
<span class='kw'>use</span> <span class='ident'>diffgeom</span>::<span class='ident'>tensors</span>::{<span class='ident'>Vector</span>, <span class='ident'>Covector</span>, <span class='ident'>Matrix</span>, <span class='ident'>InnerProduct</span>};
<span class='kw'>use</span> <span class='ident'>typenum</span>::<span class='ident'>consts</span>::{<span class='ident'>U0</span>, <span class='ident'>U1</span>};

<span class='kw'>fn</span> <span class='ident'>main</span>() {
    <span class='comment'>// First, a coordinate system must be defined</span>
    <span class='kw'>struct</span> <span class='ident'>SomeSystem</span>;
    <span class='kw'>impl</span> <span class='ident'>CoordinateSystem</span> <span class='kw'>for</span> <span class='ident'>SomeSystem</span> {
        <span class='kw'>type</span> <span class='ident'>Dimension</span> <span class='op'>=</span> <span class='ident'>typenum</span>::<span class='ident'>consts</span>::<span class='ident'>U2</span>;    <span class='comment'>// a two-dimensional coordinate system</span>
    }

    <span class='comment'>// Each tensor should be anchored at a point, so let&#39;s create one</span>
    <span class='kw'>let</span> <span class='ident'>point</span> <span class='op'>=</span> <span class='ident'>Point</span>::<span class='op'>&lt;</span><span class='ident'>SomeSystem</span><span class='op'>&gt;</span>::<span class='ident'>from_slice</span>(<span class='kw-2'>&amp;</span>[<span class='number'>0.0</span>, <span class='number'>0.0</span>]);

    <span class='comment'>// A vector can be defined like that:</span>
    <span class='kw'>let</span> <span class='ident'>vector</span> <span class='op'>=</span> <span class='ident'>Vector</span>::<span class='op'>&lt;</span><span class='ident'>SomeSystem</span><span class='op'>&gt;</span>::<span class='ident'>from_slice</span>(<span class='ident'>point</span>, <span class='kw-2'>&amp;</span>[<span class='number'>1.0</span>, <span class='number'>2.0</span>]);

    <span class='comment'>// There are also covectors</span>
    <span class='kw'>let</span> <span class='ident'>covector</span> <span class='op'>=</span> <span class='ident'>Covector</span>::<span class='op'>&lt;</span><span class='ident'>SomeSystem</span><span class='op'>&gt;</span>::<span class='ident'>from_slice</span>(<span class='ident'>point</span>, <span class='kw-2'>&amp;</span>[<span class='number'>2.0</span>, <span class='number'>0.5</span>]);

    <span class='comment'>// They can be multiplied, yielding a matrix</span>
    <span class='kw'>let</span> <span class='ident'>matrix</span> <span class='op'>=</span> <span class='op'>&lt;</span><span class='ident'>Vector</span><span class='op'>&lt;</span><span class='ident'>SomeSystem</span><span class='op'>&gt;</span> <span class='kw'>as</span> <span class='ident'>Mul</span><span class='op'>&lt;</span><span class='ident'>Covector</span><span class='op'>&lt;</span><span class='ident'>SomeSystem</span><span class='op'>&gt;&gt;</span><span class='op'>&gt;</span>::<span class='ident'>mul</span>(<span class='ident'>vector</span>, <span class='ident'>covector</span>);
    <span class='comment'>// Unfortunately this causes infinite recursion in the compiler:</span>
    <span class='comment'>// let matrix = vector * covector;</span>

    <span class='comment'>// They can be contracted</span>
    <span class='kw'>let</span> <span class='ident'>scalar</span> <span class='op'>=</span> <span class='op'>&lt;</span><span class='ident'>Vector</span><span class='op'>&lt;</span><span class='ident'>SomeSystem</span><span class='op'>&gt;</span> <span class='kw'>as</span> <span class='ident'>InnerProduct</span><span class='op'>&lt;</span><span class='ident'>Covector</span><span class='op'>&lt;</span><span class='ident'>SomeSystem</span><span class='op'>&gt;</span>, <span class='ident'>U0</span>, <span class='ident'>U1</span><span class='op'>&gt;&gt;</span>::<span class='ident'>inner_product</span>(<span class='ident'>vector</span>, <span class='ident'>covector</span>);

    <span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='op'>*</span><span class='ident'>scalar</span>, <span class='op'>*</span><span class='ident'>matrix</span>.<span class='ident'>trace</span>::<span class='op'>&lt;</span><span class='ident'>U0</span>, <span class='ident'>U1</span><span class='op'>&gt;</span>());  <span class='comment'>// scalars returned by tensor functions need to be dereffed to f64</span>
}</pre>
</div><h2 id='modules' class='section-header'><a href="#modules">Modules</a></h2>
<table>
                    <tr class=' module-item'>
                        <td><a class='mod' href='coordinates/index.html'
                               title='diffgeom::coordinates'>coordinates</a></td>
                        <td class='docblock short'>
                             <p>Module containing basic types representing coordinate systems.</p>

                        </td>
                    </tr>
                
                    <tr class=' module-item'>
                        <td><a class='mod' href='metric/index.html'
                               title='diffgeom::metric'>metric</a></td>
                        <td class='docblock short'>
                             
                        </td>
                    </tr>
                
                    <tr class=' module-item'>
                        <td><a class='mod' href='tensors/index.html'
                               title='diffgeom::tensors'>tensors</a></td>
                        <td class='docblock short'>
                             <p>Module containing definitions of tensors and operations on them.</p>

                        </td>
                    </tr>
                </table></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "diffgeom";
        window.playgroundUrl = "";
    </script>
    <script src="../jquery.js"></script>
    <script src="../main.js"></script>
    
    <script defer src="../search-index.js"></script>
</body>
</html>